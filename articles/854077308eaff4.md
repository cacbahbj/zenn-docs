---
title: "Macã«Javaã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["mac", "java", "anyenv", "jenv", "homebrew"]
published: true
---
# OpenJDK

OracleJDKã¯9ã‹ã‚‰æœ‰å„ŸåŒ–ã€8ãŒã‚µãƒãƒ¼ãƒˆçµ‚äº†ã¨ãªã£ã¦ã„ã‚‹
ã“ã“ã§ã¯ä»¥ä¸‹ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã«ã¤ã„ã¦è¨˜è¼‰ã™ã‚‹

- Azul Zulu Builds of OpenJDK
- Adoptium (AdoptOpenJDKå¾Œç¶™)

M1 Macã§æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ã„ãŸã„å ´åˆã¯ARMãƒ“ãƒ«ãƒ‰ãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹Zuluã‚’ä½¿ã†ã¨è‰¯ã„
â€»Adoptiumã¯17ä»¥é™ã®ã¿å¯¾å¿œ

ãã®ä»–OpenJDKã®ãƒ“ãƒ«ãƒ‰ã«ã¤ã„ã¦ã¯ã“ã¡ã‚‰
https://ja.wikipedia.org/wiki/OpenJDK

## Homebrew

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯Homebrewã‚’ä½¿ã†
https://brew.sh/index_ja


## Azul Zulu Builds of OpenJDK

https://www.azul.com/downloads/?package=jdk

æœ€æ–°ç‰ˆ
```
$ brew install zulu
```
æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯omebrew-cask-versionsã‚’tapã—ã¦å…¥ã‚Œã‚‹
```
$ brew tap homebrew/cask-versions
$ brew install zulu15
```

## Adoptium

OpenJDK8~16
https://adoptopenjdk.net/
OpenJDK8, 11, 16~
https://adoptium.net/

OpenJDK16ä»¥å‰ã®ã‚‚ã®ã‚’å…¥ã‚Œã‚‹å ´åˆã¯ã“ã¡ã‚‰
https://github.com/AdoptOpenJDK/homebrew-openjdk

```
$ brew tap AdoptOpenJDK/openjdk
$ brew install adoptopenjdk15
```

æœ€æ–°ç‰ˆã¯ã“ã¡ã‚‰
https://formulae.brew.sh/cask/temurin
```
$ brew install temurin
```
LTS(8, 11)ãªã©ã®å¤ã„ã‚‚ã®ã‚’ä½¿ã†å ´åˆã¯homebrew-cask-versionsã‚’tapã—ã¦å…¥ã‚Œã‚‹
https://github.com/Homebrew/homebrew-cask-versions
```
$ brew tap homebrew/cask-versions
$ brew install temurin11
```

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ç¢ºèª

```
$ /usr/libexec/java_home -V
Matching Java Virtual Machines (3):
    17.0.1 (x86_64) "Eclipse Temurin" - "Eclipse Temurin 17" /Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home
    15.0.2 (x86_64) "AdoptOpenJDK" - "AdoptOpenJDK 15" /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home
    11.0.13 (x86_64) "Eclipse Temurin" - "Eclipse Temurin 11" /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home
/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home
```
ç’°å¢ƒå¤‰æ•°ãªã©ã§è¨­å®šï¼ˆå¾Œè¿°ã®anyenvã‚’ä½¿ã†å ´åˆã¯ä¸è¦ï¼‰
```
$ view ~/.zshrc
export JAVA_HOME=`/usr/libexec/java_home -v "17"`
PATH=${JAVA_HOME}/bin:${PATH}
```

# anyenv + jenv

## anyenv
å¾Œè¿°ã®jenvã‚„pyenvãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã™ã‚‹ã‚‚ã®ã‚’ã¾ã¨ã‚ã¦è¨­å®šã§ãã‚‹
https://github.com/anyenv/anyenv
```
$ brew install anyenv
$ anyenv init
$ echo 'eval "$(anyenv init -)"' >> ~/.zshrc
```
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†èµ·å‹•å¾Œã€ä»¥ä¸‹ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰åˆæœŸåŒ–ã™ã‚‹
```
ANYENV_DEFINITION_ROOT(/Users/xxxxx/.config/anyenv/anyenv-install) doesn't exist. You can initialize it by:
> anyenv install --init
```
ï¼ˆåˆæœŸåŒ–ï¼‰
```
ï¼„ anyenv install --init
```

## jenv
javaã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹
https://github.com/jenv/jenv

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€jenvã«JDKã‚’è¿½åŠ ã—ã¦èªè­˜ã•ã›ã‚‹
```
$ anyenv install jenv
$ exec $SHELL -l

$ jenv add `/usr/libexec/java_home -v "17"`
    :
  (å„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¿½åŠ )
```
ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¨­å®š
```
$ cd hoge
$ jenv local 15.0

$ jenv versions
  system
   :
* 15.0 (set by /Users/xxxxx/hoge/.java-version)
```
