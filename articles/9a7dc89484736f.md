---
title: "Zinitã¨Starshipã§ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹"
emoji: "ğŸ‘‹"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [mac, zinit, starship, asdf, mise]
published: true
---

# ã¯ã˜ã‚ã«

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¯iTerm2ã‚’ä½¿ã„ã¾ã™

```
brew install iterm2
```

# Zinit

https://github.com/zdharma-continuum/zinit

READMEã‚’å‚è€ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
```
bash -c "$(curl --fail --show-error --silent --location https://raw.githubusercontent.com/zdharma-continuum/zinit/HEAD/scripts/install.sh)"
```

ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã‚·ã‚§ãƒ«ã‚’èª­ã¿ç›´ã—ã¦åˆæœŸåŒ–ã—ã¾ã™
```
source ~/.zshrc
zinit self-update
```

# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆãƒ†ãƒ¼ãƒï¼‰

powerlevel10k, pure, starshipã®ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚Šã¾ã™ãŒã€
ä»Šå›ã¯starshipã‚’ä½¿ç”¨ã—ã¾ã™

`~/.zshrc`ã‚’ç·¨é›†ã—ã€ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™
```
# Load starship theme
# line 1: `starship` binary as command, from github release
# line 2: starship setup at clone(create init.zsh, completion)
# line 3: pull behavior same as clone, source init.zsh
zinit ice as"command" from"gh-r" \
          atclone"./starship init zsh > init.zsh; ./starship completions zsh > _starship" \
          atpull"%atclone" src"init.zsh"
zinit light starship/starship
```
ã‚·ã‚§ãƒ«ã®è¨­å®šã‚’èª­ã¿ç›´ã™ã¨æœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™
```
source ~/.zshrc
```

## ãƒ•ã‚©ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

starshipã§å¿…è¦ãªãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™
```
brew tap homebrew/cask-fonts
brew install --cask font-fira-code-nerd-font
```

iTemã®è¨­å®šã‹ã‚‰ãƒ•ã‚©ãƒ³ãƒˆã‚’å¤‰æ›´ã—ã¦ãŠãã¾ã™

iTerm2 -> Preferences -> Profiles -> Text -> Font
ã§ã€€FireCore Nerd Fontã€€ã‚’é¸æŠ

## Starshipã®è¨­å®šæ–¹æ³•

### ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä½¿ã†

ä»¥ä¸‹ã‹ã‚‰å¥½ããªã‚‚ã®ã‚’é¸ã³ã¾ã™
ãƒªãƒ³ã‚¯å…ˆã®ä¸€è¦§ã‹ã‚‰ï¼ˆç”»åƒã‚¯ãƒªãƒƒã‚¯ã§ï¼‰è¨­å®šæ–¹æ³•ãŒã¿ã‚Œã¾ã™
https://starship.rs/ja-jp/presets/

Gruvbox Rainbowã‚’ä½¿ã†å ´åˆã®ä¾‹ã§ã™
â†“å®Ÿè¡Œã™ã‚‹ã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œè¦‹ãŸç›®ãŒå¤‰æ›´ã•ã‚Œã¾ã™
```
starship preset gruvbox-rainbow -o ~/.config/starship.toml
```

![Gruvbox Rainbow](https://starship.rs/presets/img/gruvbox-rainbow.png)

### è‡ªåˆ†ã§è¨­å®šã™ã‚‹å ´åˆ

ä»¥ä¸‹ã«è©³ã—ãæ›¸ã„ã¦ã‚ã‚Šã¾ã™
https://starship.rs/ja-jp/config/

### `Executing command "..." timed out.`ã¨ã„ã†è­¦å‘ŠãŒå‡ºã‚‹å ´åˆ

â†“ã“ã“ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ãŒã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šãŒã‚ã‚Šã¾ã™
https://starship.rs/ja-jp/faq/#%E3%81%A8%E3%82%99%E3%81%86%E3%81%97%E3%81%A6executing-command-timed-out-%E3%81%A8%E3%81%84%E3%81%86%E8%AD%A6%E5%91%8A%E3%81%8B%E3%82%99%E5%87%BA%E3%81%A6%E3%81%8F%E3%82%8B%E3%81%AE%E3%81%A6%E3%82%99%E3%81%97%E3%82%87%E3%81%86%E3%81%8B

ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®èª¬æ˜ã‚„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’èª¿ã¹ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™
`starship explain`

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«`command_timeout`ã‚’æŒ‡å®šã—ã¦ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯500msï¼‰å¤‰æ›´ã§ãã¾ã™ãŒã€
è¨€èªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤ºãŒé…ã„ã®ã§è¨­å®šã‚’å¤‰æ›´

```
format = """
[î‚¶](color_orange)\
$os\
$username\
[î‚°](bg:color_yellow fg:color_orange)\
$directory\
[î‚°](fg:color_yellow bg:color_aqua)\
$git_branch\
$git_status\
[î‚°](fg:color_aqua bg:color_bg3)\
$docker_context\
[î‚°](fg:color_bg3 bg:color_bg1)\
$time\
[î‚´ ](fg:color_bg1)\
$line_break$character"""
```

â€»ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«asdfã‚’ä½¿ã£ã¦ã„ã‚‹ã¨é…ã„ã‚ˆã†ãªã®ã§ã€Rustå®Ÿè£…ã®mise(æ—§rtx)ã«ä»£æ›¿ã™ã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™
â†’Rosettaã§ãƒãƒã‚‹ã“ã¨ãŒã‚ã‚‹ã‚ˆã†ãªã®ã§è©¦ã—ã¦ã„ã¾ã›ã‚“
ã€€â†’x86_64ç‰ˆã®miseã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™

https://mise.jdx.dev/
https://mise.jdx.dev/tips-and-tricks.html#macos-rosetta

# Zshã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†

~/.zshrcã‚’ç·¨é›†ã—ã€ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™
```
# Ctrl-R ã§ã‚³ãƒãƒ³ãƒ‰å±¥æ­´æ¤œç´¢
zinit light zdharma-continuum/history-search-multi-word
# ã‚³ãƒãƒ³ãƒ‰è£œå®Œ
zinit light zsh-users/zsh-autosuggestions
# ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ
zinit light zdharma-continuum/fast-syntax-highlighting
```
ã“ã¡ã‚‰ã‚‚ã‚·ã‚§ãƒ«ã®è¨­å®šã‚’èª­ã¿ç›´ã™ã¨æœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™
```
source ~/.zshrc
```
https://github.com/zdharma-continuum/history-search-multi-word
https://github.com/zsh-users/zsh-autosuggestions
https://github.com/zdharma-continuum/fast-syntax-highlighting
